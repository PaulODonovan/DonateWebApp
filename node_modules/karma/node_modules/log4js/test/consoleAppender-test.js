"use strict";
var assert = require('assert')
, vows = require('vows')
, layouts = require('../lib/layouts')
, sandbox = require('sandboxed-module');

vows.describe('../lib/appenders/console').addBatch({
  'appender': {
    topic: function() {
      var messages = []
      , fakeConsole = {
<<<<<<< HEAD
	log: function(msg) { messages.push(msg); }
      }
      , appenderModule = sandbox.require(
	'../lib/appenders/console',
	{
	  globals: {
	    'console': fakeConsole
	  }
	}
=======
        log: function(msg) { messages.push(msg); }
      }
      , appenderModule = sandbox.require(
        '../lib/appenders/console',
        {
          globals: {
            'console': fakeConsole
          }
        }
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      )
      , appender = appenderModule.appender(layouts.messagePassThroughLayout);

      appender({ data: ["blah"] });
      return messages;
    },

    'should output to console': function(messages) {
      assert.equal(messages[0], 'blah');
    }
  }
<<<<<<< HEAD

=======
          
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
}).exportTo(module);
