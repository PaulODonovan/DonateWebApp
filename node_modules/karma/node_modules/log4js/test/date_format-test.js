"use strict";
var vows = require('vows')
, assert = require('assert')
, dateFormat = require('../lib/date_format');

vows.describe('date_format').addBatch({
  'Date extensions': {
    topic: function() {
      return new Date(2010, 0, 11, 14, 31, 30, 5);
    },
    'should format a date as string using a pattern': function(date) {
      assert.equal(
<<<<<<< HEAD
	dateFormat.asString(dateFormat.DATETIME_FORMAT, date),
	"11 01 2010 14:31:30.005"
=======
        dateFormat.asString(dateFormat.DATETIME_FORMAT, date),
        "11 01 2010 14:31:30.005"
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      );
    },
    'should default to the ISO8601 format': function(date) {
      assert.equal(
<<<<<<< HEAD
	dateFormat.asString(date),
	'2010-01-11 14:31:30.005'
=======
        dateFormat.asString(date),
        '2010-01-11 14:31:30.005'
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      );
    },
    'should provide a ISO8601 with timezone offset format': function(date) {
      date.getTimezoneOffset = function() { return -660; };
      assert.equal(
<<<<<<< HEAD
	dateFormat.asString(dateFormat.ISO8601_WITH_TZ_OFFSET_FORMAT, date),
	"2010-01-11T14:31:30+1100"
=======
        dateFormat.asString(dateFormat.ISO8601_WITH_TZ_OFFSET_FORMAT, date),
        "2010-01-11T14:31:30+1100"
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      );

      date.getTimezoneOffset = function() { return 120; };
      assert.equal(
<<<<<<< HEAD
	dateFormat.asString(dateFormat.ISO8601_WITH_TZ_OFFSET_FORMAT, date),
	"2010-01-11T14:31:30-0200"
=======
        dateFormat.asString(dateFormat.ISO8601_WITH_TZ_OFFSET_FORMAT, date),
        "2010-01-11T14:31:30-0200"
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      );

    },
    'should provide a just-the-time format': function(date) {
      assert.equal(
<<<<<<< HEAD
	dateFormat.asString(dateFormat.ABSOLUTETIME_FORMAT, date),
	'14:31:30.005'
=======
        dateFormat.asString(dateFormat.ABSOLUTETIME_FORMAT, date),
        '14:31:30.005'
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      );
    },
    'should provide a custom format': function(date) {
      date.getTimezoneOffset = function() { return 120; };
      assert.equal(
<<<<<<< HEAD
	dateFormat.asString("O.SSS.ss.mm.hh.dd.MM.yy", date),
	'-0200.005.30.31.14.11.01.10'
=======
        dateFormat.asString("O.SSS.ss.mm.hh.dd.MM.yy", date),
        '-0200.005.30.31.14.11.01.10'
>>>>>>> 40dc066702148240d46d84f6c15203d8e58bc81e
      );
    }
  }
}).export(module);
